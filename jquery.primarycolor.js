function t(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var r=/*#__PURE__*/t(require("jquery")),e=function(t,r,e){if(void 0===e&&(e=35),!t||!r)return!1;var o=t.split(",").map(Number),n=o[0],i=o[1],a=o[2],u=r.split(",").map(Number),s=n-u[0],c=i-u[1],l=a-u[2];return Math.sqrt(s*s+c*c+l*l)<e},o=function(t,r){var o=t.data;void 0===r&&(r=0);for(var n={rgb:"",count:0},i={},a=0,u=o.length;a<u;a+=4*(r+1))if(!(o[a+3]<255)){var s=o[a]+","+o[a+1]+","+o[a+2],c=n.rgb&&e(n.rgb,s)?n.rgb:s;i[c]=(i[c]||0)+1,i[c]>n.count&&(n.rgb=c,n.count=i[c])}return[n,i]},n=/*#__PURE__*/function(){function t(t,r){this.element=void 0,this.options=void 0,this.primary="",this.element=t,this.options=r;var e=new Image;e.crossOrigin="Anonymous",e.onload=this.onLoad.bind(this),e.src=t.src}var r,e;return t.prototype.onLoad=function(r){var e=t.getImageData(r.currentTarget),n=o(e,this.options.skip),i=n[1];this.primary=n[0].rgb,"function"==typeof this.options.callback&&this.options.callback.call(this.element,this.primary,t.sortColors(i).slice(0,5))},r=t,(e=[{key:"primaryColor",get:function(){return this.primary}}])&&function(t,r){for(var e=0;e<r.length;e++){var o=r[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),t}();function i(t){var e=r.default.extend({},r.default.fn.primaryColor.options,"function"==typeof t?{callback:t}:t);if(e.skip<0)throw new Error('Please set "skip" to a value greater than 0.');return this.each(function(t,o){r.default.data(o,"primary-color")||r.default.data(o,"primary-color",new n(o,e))})}n.getImageData=function(t){var r=document.createElement("canvas"),e=r.getContext("2d");return r.width=t.width,r.height=t.height,e.drawImage(t,0,0),e.getImageData(0,0,t.width,t.height)},n.sortColors=function(t){return Object.keys(t).sort(function(r,e){return t[e]-t[r]})},i.options={skip:5},r.default.fn.primaryColor=i,exports.detectColor=o;
//# sourceMappingURL=jquery.primarycolor.js.map
